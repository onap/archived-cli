open_cli_schema_version: 1.0
name: vf-model-create
description: Create Virtual function from Vendor Software Product

info:
  product: onap-1.1
  service: sdc
  author: ONAP CLI Team onap-discuss@lists.onap.org


parameters:
  - name: name
    description: Onap VF Name
    type: string
    short_option: x
    long_option: name
    is_optional: false
  - name: description
    description: Description for VF
    type: string
    short_option: y
    long_option: description
    is_optional: true
  - name: vendor-name
    description: Vendor name
    type: string
    long_option: vendor-name
    short_option: z
    is_optional: true
  - name: vsp-id
    description: VSP ID
    type: string
    long_option: vsp-id
    short_option: b
    is_optional: true
  - name: vsp-version
    description: VSP version
    type: string
    long_option: vsp-version
    short_option: g
    is_optional: true
results:
  direction: portrait
  attributes:
    - name: ID
      description: VF ID
      scope: short
      type: string
http:
  service:
    name: sdc
    version: v1.0
    auth: basic
    mode: direct
  request:
    uri: /sdc2/rest/v1/catalog/resources
    method: POST
    body: '{"contactId": "${onap-username}", "vendorRelease": "1.0", "requirements": {}, "artifacts": {}, "capabilities": {}, "componentInstancesProperties": {}, "deploymentArtifacts": {}, "icon": "defaulticon", "vendorName": "${vendor-name}", "description": "${description}", "tags": ["CLI", "${name}"], "groups": [], "properties": [], "categories": [{"subcategories": [{"normalizedName": "abstract", "name": "Abstract", "uniqueId": "resourceNewCategory.generic.abstract", "icons": ["database"]}], "normalizedName": "generic", "name": "Generic", "uniqueId": "resourceNewCategory.generic"}], "name": "${name}", "toscaArtifacts": {}, "csarUUID": "${vsp-id}", "resourceType": "VF", "csarVersion": "${vsp-version}", "componentType": "RESOURCE", "componentInstancesAttributes": {}, "attributes": [], "componentInstances": []}'
  success_codes:
    - 201
  result_map:
    ID: $b{$.uniqueId}

